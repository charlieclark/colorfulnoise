!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.ColorfulNoise=t()}}(function(){return function t(i,n,o){function s(r,a){if(!n[r]){if(!i[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(e)return e(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[r]={exports:{}};i[r][0].call(f.exports,function(t){var n=i[r][1][t];return s(n?n:t)},f,f.exports,t,i,n,o)}return n[r].exports}for(var e="function"==typeof require&&require,r=0;r<o.length;r++)s(o[r]);return s}({1:[function(t,i,n){!function(){function t(t,i,n){var a=255&Math.floor(t),h=255&Math.floor(i),u=255&Math.floor(n);t-=Math.floor(t),i-=Math.floor(i),n-=Math.floor(n);var f=o(t),_=o(i),c=o(n),l=r[a]+h,d=r[l]+u,g=r[l+1]+u,p=r[a+1]+h,b=r[p]+u,v=r[p+1]+u;return s(c,s(_,s(f,e(r[d],t,i,n),e(r[b],t-1,i,n)),s(f,e(r[g],t,i-1,n),e(r[v],t-1,i-1,n))),s(_,s(f,e(r[d+1],t,i,n-1),e(r[b+1],t-1,i,n-1)),s(f,e(r[g+1],t,i-1,n-1),e(r[v+1],t-1,i-1,n-1))))}function o(t){return t*t*t*(t*(6*t-15)+10)}function s(t,i,n){return i+t*(n-i)}function e(t,i,n,o){var s=15&t,e=8>s?i:n,r=4>s?n:12==s||14==s?i:o;return(0==(1&s)?e:-e)+(0==(2&s)?r:-r)}for(var r=[],a=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],h=0;256>h;h++)r[256+h]=r[h]=a[h];"undefined"!=typeof n?("undefined"!=typeof i&&i.exports&&(n=i.exports=t),n.Noise=t):this.Noise=t}()},{}],2:[function(t,i,n){!function(){function t(t){this._gradients=null,this._colors=null,this.setColors(t)}function o(t,i,n,o){this._startColor=r(t),this._endColor=r(i),this._minNumber=n,this._maxNumber=o,this._range=this._maxNumber-this._minNumber}function s(t){return e(t.toString(16))}function e(t){return 1===t.length?"0"+t:t}function r(t){return t.substring(t.length-6,t.length)}var a=100;t.prototype={setColors:function(t){var i=this._segmentLength=a/(t.length-1);this._gradients=[];for(var n=0;n<t.length-1;n++){var s=new o(t[n],t[n+1],i*n,i*(n+1));this._gradients[n]=s}this._colors=t},colorAt:function(t,i){var n=t*a,o=Math.min(Math.floor(n/this._segmentLength),this._gradients.length-1);return this._gradients[o].colorAt(n,i)}},o.prototype={colorAt:function(t,i){var n=this.calcInt(t,this._startColor.substring(0,2),this._endColor.substring(0,2)),o=this.calcInt(t,this._startColor.substring(2,4),this._endColor.substring(2,4)),e=this.calcInt(t,this._startColor.substring(4,6),this._endColor.substring(4,6));return i?[n,o,e]:s(n)+s(o)+s(e)},calcInt:function(t,i,n){var o=t;t<this._minNumber?o=this._minNumber:t>this._maxNumber&&(o=this._maxNumber);var s=parseInt(i,16),e=parseInt(n,16),r=(e-s)/this._range,a=Math.round(r*(o-this._minNumber)+s);return a}};var h=this;"undefined"!=typeof n?("undefined"!=typeof i&&i.exports&&(n=i.exports=t),n.Rainbow=t):h.Rainbow=t}()},{}],3:[function(t,i,n){!function(){function n(t){this._width=t.width||e+t.quality*(r-e),this._height=t.height||this._width,this._colors=t.colors||["#F970F8","#F9FBB1","#AAFEA3","#94FEF7","#F9FBB1","#F970F8"],this._freq=a+t.granularity*(h-a),this._speed=u+t.speed*(f-u),this._animating=!1,this._hasCanvas=t.hasCanvas,this._colorData=[],this._z=0,this.init()}var o=t("improvednoise"),s=t("rainbow"),e=5,r=200,a=.001,h=1/30,u=.001,f=.1,_=1e3/60,c=5;n.prototype={init:function(){this._hasCanvas&&(this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d")),this._rainbow=new s(this._colors),this.resize()},updateNoise:function(){this._toRainbow&&this.updateToRainbow();var t=this._z+=this._speed;if(this._hasCanvas)var i=this._ctx.createImageData(this._canvas.width,this._canvas.height),n=this._colorData=i.data;else var n=this._colorData;var s,e,r=0,a=0,h=0;for(h=0;h<this._height;h++)for(a=0;a<this._width;a++)s=o(a*this._freq,h*this._freq,t)+.5,0>s?s=0:s>1&&(s=1),e=this._rainbow.colorAt(s,!0),this._toRainbow&&(rgb2=this._toRainbow.colorAt(s,!0),e=this.blendColors(e,rgb2,this._toRainbowRatio)),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n[r++]=255;this._hasCanvas&&this._ctx.putImageData(i,0,0)},blendColors:function(t,i,n){var o=t[0]+(i[0]-t[0])*n,s=t[1]+(i[1]-t[1])*n,e=t[2]+(i[2]-t[2])*n;return[o,s,e]},updateRainbow:function(t,i){this._transitionTime=isNaN(i)?c:i,this._ticker=0,this._toRainbow=new s(t)},updateToRainbow:function(){this._ticker++,this._toRainbowRatio=this._ticker/(this._transitionTime*_),this._toRainbowRatio>=1&&(this._rainbow=this._toRainbow,this._toRainbow=null)},start:function(){this._animating=!0,this.animate()},stop:function(){this._animating=!1},animate:function(){this._animating&&(requestAnimationFrame(this.animate.bind(this)),this.updateNoise())},update:function(){this.updateNoise()},resize:function(){this._hasCanvas&&(this._canvas.width=this._width,this._canvas.height=this._height)},getCanvas:function(){return this._canvas},getData:function(){return this._colorData},getColorAt:function(t,i){var n=3*(i*this._width+t);return[this._colorData[n],this._colorData[n+1],this._colorData[n+2]]}},n.Noise=o,n.Rainbow=s,i.exports=n}()},{improvednoise:1,rainbow:2}]},{},[3])(3)});